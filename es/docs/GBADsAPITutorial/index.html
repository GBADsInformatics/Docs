<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-GBADsAPITutorial">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Accessing the GBADs API in R | GBADs Informatics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://gbadsinformatics.github.io/es/docs/GBADsAPITutorial"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Accessing the GBADs API in R | GBADs Informatics"><meta data-rh="true" name="description" content="&lt;!-- `{r setup, include=FALSE}"><meta data-rh="true" property="og:description" content="&lt;!-- `{r setup, include=FALSE}"><link data-rh="true" rel="icon" href="/es/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gbadsinformatics.github.io/es/docs/GBADsAPITutorial"><link data-rh="true" rel="alternate" href="https://gbadsinformatics.github.io/docs/GBADsAPITutorial" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://gbadsinformatics.github.io/fr/docs/GBADsAPITutorial" hreflang="fr"><link data-rh="true" rel="alternate" href="https://gbadsinformatics.github.io/es/docs/GBADsAPITutorial" hreflang="es"><link data-rh="true" rel="alternate" href="https://gbadsinformatics.github.io/docs/GBADsAPITutorial" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/es/blog/rss.xml" title="GBADs Informatics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/es/blog/atom.xml" title="GBADs Informatics Atom Feed"><link rel="stylesheet" href="/es/assets/css/styles.8d12772d.css">
<link rel="preload" href="/es/assets/js/runtime~main.61054fc5.js" as="script">
<link rel="preload" href="/es/assets/js/main.dc1cf7b7.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/es/"><div class="navbar__logo"><img src="/es/img/GBADs-LOGO-Black.png" alt="GBADs Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/es/img/GBADs-LOGO-Black.png" alt="GBADs Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Informática</b></a><a aria-current="page" class="navbar__item navbar__link text-nav-item navbar__link--active" href="/es/docs/Welcome">Documentos</a><a class="navbar__item navbar__link text-nav-item" href="/es/publications/Intro">Presentaciones y Publicaciones</a><a class="navbar__item navbar__link text-nav-item" href="/es/reports/Intro">Reports</a><a class="navbar__item navbar__link text-nav-item" href="/es/blog">Blog</a><a class="navbar__item navbar__link text-nav-item" href="/es/highlights">Reflejos</a><a class="navbar__item navbar__link text-nav-item" href="/es/about">Sobre</a><a class="navbar__item navbar__link text-nav-item" href="/es/createdoc">Crear documento</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link text-nav-item"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Español</a><ul class="dropdown__menu"><li><a href="/docs/GBADsAPITutorial" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/fr/docs/GBADsAPITutorial" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/es/docs/GBADsAPITutorial" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="es">Español</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/GBADsInformatics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://www.youtube.com/channel/UCdm3CD5v8YZdHtXbsq5WdWw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link"></a><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current,docs-publications-current,docs-reports-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/Welcome">Bienvenidos</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/es/docs/Data-Governance-Handbook-for-GBADs/intro">Manual de gobierno de datos para GBAD</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/es/docs/GBADs-Dashboard-Tutorials/tableroTutorialesIntroducción">Tutoriales del tablero de GBAD</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/es/docs/terms/nsa">Términos</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/glosario">Glosario</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/Introducción-a-R-Shiny">Introducción a R Shiny</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/Presentación-de-Gobernanza-y-Calidad-de-Datos">Presentación de Gobernanza y Calidad de Datos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/Una-nueva-adición-a-los-recursos-de-datos-de-One-Health">Una nueva adición a los recursos de datos de One Health</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/Trabajando-con-Anduryl">Trabajando con Anduryl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/Presentación-del-Simposio-One-Health-Mayo-2022">Presentación del Simposio One-Health Mayo 2022</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/Dockerizing-Dashboards">Guide to Dockerizing Dashboards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/es/docs/GBADsAPITutorial">Accessing the GBADs API in R</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/es/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Accessing the GBADs API in R</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta pagina</button></div><div class="theme-doc-markdown markdown"><header><h1>Accessing the GBADs API in R</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation">Documentation<a class="hash-link" href="#documentation" title="Enlace directo al encabezado">​</a></h2><p><em>For documentation about the API and useful commands you can visit <a href="http://gbadske.org:9000/dataportal/" target="_blank" rel="noopener noreferrer">http://gbadske.org:9000/dataportal/</a></em></p><p><strong>Refer to Deb&#x27;s presentation for more theory on APIs and why you should use them.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="some-important-concepts">Some important concepts:<a class="hash-link" href="#some-important-concepts" title="Enlace directo al encabezado">​</a></h3><p>An API stands for Application Programming Interface. An API is an interface between two programs that allows you to request data from a server and get it back to your program. The GBADs API is a web-based API made with W3&#x27;s HyperText Transfer Protocol (HTTP) which allows webservers to exchange data. </p><p>When making an API call you create a <em>request</em> (we&#x27;ll call it a command) that consists of a URL, path to endpoint, and query: </p><p><strong>Base URL</strong> (aka the Request URL): This is the URL that you need to access the API.</p><p>For example: <code>http://gbadske.org:9000/GBADsTables/</code> and <code>http://gbadske.org:9000/GBADsLivestockPopulation/</code> are base URLs for the GBADs API.</p><p><strong>Endpoint</strong>: This is where the data that you want is located. </p><p><strong>Query</strong>: Indicated by a &#x27;?&#x27;, this is how you ask for the specific data you want. </p><p><strong>Example</strong>: </p><p>This command provides all tables available in the GBADs API:  <a href="http://gbadske.org:9000/GBADsTables/public?format=html" target="_blank" rel="noopener noreferrer">http://gbadske.org:9000/GBADsTables/public?format=html</a></p><p>Broken down using the terminology above: </p><ul><li>Base URL: <a href="http://gbadske.org:9000/GBADsTables/" target="_blank" rel="noopener noreferrer">http://gbadske.org:9000/GBADsTables/</a></li><li>Endpoint: public</li><li>Query: ?format=html</li></ul><p>Once you have your URL you can use the HTTP&#x27;s <code>GET</code> method for getting data. There are other HTTP methods, but <code>GET</code> is the only one you&#x27;ll need to know to get data from the GBADs API. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="required-packages">Required packages<a class="hash-link" href="#required-packages" title="Enlace directo al encabezado">​</a></h2><p>You can use the <code>httr</code> package to <code>GET</code> data from the API. Since we sometimes also have to do some string handling, we also load the <code>stringr</code> package (this is personal preference, you can also handle strings in base R but I like stringr, and I only use it in the functions section).</p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">library(&#x27;httr&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library(&#x27;stringr&#x27;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-httr-library-to-get-data">Using the <code>httr</code> library to get data<a class="hash-link" href="#using-the-httr-library-to-get-data" title="Enlace directo al encabezado">​</a></h2><p>In the next section we provide functions that help make creating the content URL for the request easier by automatating the creation of the url and handling of the response. This section provides an overview of how to understand the <code>httr</code> library in R.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-basics-of-httr-and-getting-a-list-of-of-available-tables">The basics of <code>httr</code> and getting a list of of available tables<a class="hash-link" href="#the-basics-of-httr-and-getting-a-list-of-of-available-tables" title="Enlace directo al encabezado">​</a></h3><p>Calling the GBADsTables/public endpoint directly provides a list of tables. When we obtain this list we can know which tables are available, and what data we can access. </p><p>First, we set up the content URL. Note that we are requesting the format to be in <code>text</code> so we can handle the response.</p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url &lt;- &quot;http://gbadske.org:9000/GBADsTables/public?format=text&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, we can use the <code>GET</code> method from <code>httr</code> by using the <code>GET()</code> function. We call the variable <code>res</code> to stand for <code>response</code>.</p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res &lt;- GET(url = url)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, let&#x27;s see what we get back: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">names(res)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The important stuff: </p><ul><li><p>The <code>status_code</code> provides us a code that tells us whether our request to the API was successful.
If we got a status of 204 it would indicate that there was no content returned. For a full list of response codes visit: <a href="https://restfulapi.net/http-status-codes/" target="_blank" rel="noopener noreferrer">https://restfulapi.net/http-status-codes/</a> </p></li><li><p><code>content</code> is the data from the API in raw binary code </p></li></ul><p>Let&#x27;s look at the <code>status_code</code>: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res$status_code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A <code>status_code</code> of 200 means that the request was successful. </p><p>Now the content: </p><div class="language-{r, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res$content</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output is useful for a machine, but we need to translate this into human, please. The <code>content</code> function from the <code>httr</code> library makes this pretty easy. For more information about the <code>content</code> function use <code>?content()</code> to retrieve the docs. </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tables &lt;- content(res)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tables</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is nice, but we should probably parse this into a list.</p><div class="language-{r, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">as.list(strsplit(tables, &quot;,&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At last!
<strong>Our result is a list of tables that are available from the GBADs API. Each time a new table is added, or something is changed, you will get the most up-to-date list of tables using these 4 lines of code that we just reviewed:</strong></p><div class="language-{r, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url &lt;- &quot;http://gbadske.org:9000/GBADsTables/public?format=text&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">res &lt;- GET(url = url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tables &lt;- content(res)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">as.list(strsplit(tables, &quot;,&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-information-about-a-table">Getting information about a table<a class="hash-link" href="#getting-information-about-a-table" title="Enlace directo al encabezado">​</a></h3><p>Now that we have a list of tables, we can see what columns are available in each table. Let&#x27;s say we want data from the <code>livestock_countries_population_unfccc</code>, or the population numbers from the UNFCCC. </p><p>First, construct the URL. We can get to table content using: </p><ul><li><code>http://gbadske.org:9000/GBADsTable/public?</code> </li></ul><p>and specifying the table name and format: </p><ul><li>table_name=livestock_countries_population_unfccc&amp;format=text</li></ul><p>So we end up with this: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url_unfccc &lt;- &#x27;http://gbadske.org:9000/GBADsTable/public?table_name=livestock_countries_population_unfccc&amp;format=text&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then we use <code>GET</code> and check out the <code>status_code</code>: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc &lt;- GET(url = url_unfccc)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc$status_code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we can handle the response format: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">content(res_unfccc)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here we have country, species, year, population, and flag as the available columns.</p><p><strong>Coming soon</strong>: functionality for metadata/description in the API. </p><p>Now that we have the fields, we can go ahead and construct a query to ask for the actual data.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-the-data-table">Getting the data table<a class="hash-link" href="#getting-the-data-table" title="Enlace directo al encabezado">​</a></h3><p><strong>REMINDER</strong> FIND EXAMPLE COMMANDS ON <a href="http://gbadske.org:9000/dataportal" target="_blank" rel="noopener noreferrer">http://gbadske.org:9000/dataportal</a></p><p>First, construct the url: </p><ul><li>url = <a href="http://gbadske.org:9000/GBADsPublicQuery/" target="_blank" rel="noopener noreferrer">http://gbadske.org:9000/GBADsPublicQuery/</a></li><li>table_name = livestock_countries_population_unfccc</li></ul><p>The new part of this is the fields and query parts of the url:</p><ul><li>fields = country,species,year,population</li><li>query = In this case, we want all the data, so we can just leave the query empty. </li></ul><p>Then, we specify the format: </p><ul><li>foramt = text </li></ul><p>Putting it all together this is our URL: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url_unfccc_data &lt;- &#x27;http://gbadske.org:9000/GBADsPublicQuery/livestock_countries_population_unfccc?fields=country,species,year,population&amp;query=&amp;format=text&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, we can use <code>GET</code> to get the data </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc_data &lt;- GET(url_unfccc_data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unfccc_data &lt;- content(res_unfccc_data)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">unfccc_data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And there we have it! </p><p>TO RECAP - that was only 3 lines of code: </p><div class="language-{r, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url_unfccc_data &lt;- &#x27;http://gbadske.org:9000/GBADsPublicQuery/livestock_countries_population_unfccc?fields=country,species,year,population&amp;query=&amp;format=text&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc_data &lt;- GET(url_unfccc_data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unfccc_data &lt;- content(res_unfccc_data)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can now visualize the data, or do whatever you&#x27;d like with it: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">library(ggplot2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library(tidyverse)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unfccc_data %&gt;% </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filter (species == &#x27;Buffaloes&#x27;) %&gt;% </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filter (country == &#x27;Australia&#x27;) %&gt;% </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ggplot(., aes(x = year, y = population)) +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  geom_line() +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  geom_point() +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ggtitle(&#x27;Buffaloes in Australia&#x27;, subtitle = sprintf(&#x27;Data from: %s&#x27;, str_wrap(url_unfccc_data))) +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  theme(plot.subtitle=element_text(size=10, face=&quot;italic&quot;, color=&quot;black&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, the trickiest part of all that was. making the URLs. Check out the functions below to make your life easier when building those URLs</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-functions-to-get-data">Using functions to get data<a class="hash-link" href="#using-functions-to-get-data" title="Enlace directo al encabezado">​</a></h2><p>To make getting data a little easier, we have made some functions to make coding a little easier. </p><p>To get a list of all tables in the API, you can use the <code>get_tables</code> function. </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">get_tables &lt;- function() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # The content url is where the tables are</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  content_url &lt;- &quot;http://gbadske.org:9000/GBADsTables/public?format=text&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # GET from the httr module allows us to ask for data from the API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  res &lt;- GET(content_url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Get the content by passing the res variable to the content command. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tables &lt;- content(res, &quot;text&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Split the content to a more usable format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tables &lt;- as.list(strsplit(tables, &quot;,&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return(tables)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By using the function, you can simply call <code>get_tables()</code> to get a list of tables available: </p><div class="language-{r, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">get_tables()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Use the <code>get_table_fields</code> function to get information about a table of interest. The <code>get_table_fields</code> function works like this: </p><ul><li>Pass the function the table name that you want information about </li><li>Builds the content URL using the table name</li><li>Asks for the data using GET from the httr package </li><li>Checks to see that the request was valid by using the response status code </li><li>If the status code is valid, parse the content recieved from the response and return the data</li><li>If the status code is not valid, print a message</li></ul><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">get_table_fields &lt;- function(table_name) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Pass the function the table name that you want information about </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Build the url </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  content_url = paste(&#x27;http://gbadske.org:9000/GBADsTable/public?table_name=&#x27;,table_name,&#x27;&amp;format=text&#x27;, sep = &#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Ask for the data </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  res = GET(content_url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (res$status_code == 200) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res_content = content(res, &#x27;text&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res_list = as.list(strsplit(res_content, &quot;,&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Return the response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return(res_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&#x27;Response status was not 200. Could not process request.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Trying out the function: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">get_table_fields(&#x27;livestock_countries_population_unfccc&#x27;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the livestock_countries_population_unfccc table there are 5 columns - country, species, year, population, flag</p><p>Using the get_data function, you can specify the table_name, fields, and query to get the data from the API:</p><ul><li>Pass the function the table_name </li><li>Optional: pass the function fields and query</li><li>The function does a series of checks to see which parameters were passed </li><li>The content URL is built according to what is passed</li><li>A request is made for data according to the content url</li><li>The response to the request is returned</li></ul><div class="language-{r, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">get_data &lt;- function(table_name, fields, query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Check to see if a table name was provided </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (c(missing(table_name))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stop(&#x27;Provide a table name.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  base_url = &#x27;http://gbadske.org:9000/GBADsPublicQuery/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Create API call in the following situations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # if there was no query or fields provided</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if ((missing(query) &amp; missing(fields))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content_url = paste(base_url,table_name,&#x27;?fields=&amp;query=&amp;format=text&#x27;, sep=&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # if fields were provided but no query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else if (missing(query))  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content_url = paste(base_url,table_name,&#x27;?fields=&#x27;,fields,&#x27;&amp;query=&amp;format=text&#x27;, sep=&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # if a query was provided but no fields were specified </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else if (missing(fields)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stop(&#x27;You cannot provide a query with no fields specified&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # if query and fields were provided </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content_url = paste(base_url,table_name,&#x27;?fields=&#x27;,fields,&#x27;&amp;query=&#x27;,query,&#x27;&amp;format=text&#x27;, sep=&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Ask for the data </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(content_url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  res = GET(content_url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (res$status_code == 200) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Return the response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return(res)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&#x27;Response status was not 200. Could not process request.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Testing out the function to get the livestock_countries_population_unfccc data </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc_all &lt;- get_data(&#x27;livestock_countries_population_unfccc&#x27;, fields=&#x27;country,species,year,population&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tab_unfccc_all &lt;- content(res_unfccc_all)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the table: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tab_unfccc_all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Try a more complex query: </p><ul><li>table_name = livestock_countries_population_unfccc</li><li>fields = country,species,year,population</li><li>query for data in 2008</li></ul><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc_2008 &lt;- get_data(&#x27;livestock_countries_population_unfccc&#x27;, fields = &#x27;country,species,year,population&#x27;, query = &#x27;year=2008&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unfccc_2008_tab &lt;- content(res_unfccc_2008)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the table: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">unfccc_2008_tab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Try another query: </p><ul><li>Get data for Canada in the year 2008</li></ul><p>Constructing this query string is a little trickier. </p><ul><li>Canada is a string, so it must be surrounded by single quotation marks. </li><li>In R, when passing a string in quotes to a function, we have to use the escape character &#x27;<!-- -->\<!-- -->&#x27;. For example, country=<!-- -->\<!-- -->&#x27;Canada<!-- -->\<!-- -->&#x27;</li><li>We are querying for both a year and a country, we can use AND in the query to ask for both. Before and after AND use &#x27;%20&#x27;, which is hexidemial for a space, to denote the space in the URL. For example, country=<!-- -->\<!-- -->&#x27;Canada<!-- -->\<!-- -->&#x27;%20AND%20year=2008</li></ul><p>Putting this together we get <code>query = &#x27;country=\&#x27;Canada\&#x27;%20AND%20year=2008</code></p><p>Now you can call the function as usual, using the query string we just built:</p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Call the function </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc &lt;- get_data(&#x27;livestock_countries_population_unfccc&#x27;, fields = &#x27;country,species,year,population&#x27;, query = &#x27;country=\&#x27;Canada\&#x27;%20AND%20year=2008&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tab &lt;- content(res_unfccc)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the result</p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Try another query, specifying a species of interest</p><ul><li>Get data for Canada for Sheep in the year 2008</li></ul><p>Using the same rules as before, we can build the query string</p><p><code>query = &#x27;country=\&#x27;Canada\&#x27;%20AND%20year=2008%20AND%20species=\&#x27;Sheep\&#x27;</code></p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Call the function </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">res_unfccc_sheep &lt;- get_data(&#x27;livestock_countries_population_unfccc&#x27;, fields = &#x27;country,species,year,population&#x27;, query = &#x27;country=\&#x27;Canada\&#x27;%20AND%20year=2008%20AND%20species=\&#x27;Sheep\&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tab &lt;- content(res_unfccc_sheep)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the result: </p><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tab</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With the <code>get_data</code> building the content url, sending a request, and getting a response is a lot easier! Have fun playing with the API! </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a class="hash-link" href="#references" title="Enlace directo al encabezado">​</a></h3><p>Format and explanations of this tutorial were inspired by <a href="https://www.r-bloggers.com/2015/11/accessing-apis-from-r-and-a-little-r-programming/" target="_blank" rel="noopener noreferrer">https://www.r-bloggers.com/2015/11/accessing-apis-from-r-and-a-little-r-programming/</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tutorial-built-with">Tutorial built with:<a class="hash-link" href="#tutorial-built-with" title="Enlace directo al encabezado">​</a></h3><div class="language-{r} codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-{r} codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sessionInfo()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/es/docs/Dockerizing-Dashboards"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Guide to Dockerizing Dashboards</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#documentation" class="table-of-contents__link toc-highlight">Documentation</a><ul><li><a href="#some-important-concepts" class="table-of-contents__link toc-highlight">Some important concepts:</a></li></ul></li><li><a href="#required-packages" class="table-of-contents__link toc-highlight">Required packages</a></li><li><a href="#using-the-httr-library-to-get-data" class="table-of-contents__link toc-highlight">Using the <code>httr</code> library to get data</a><ul><li><a href="#the-basics-of-httr-and-getting-a-list-of-of-available-tables" class="table-of-contents__link toc-highlight">The basics of <code>httr</code> and getting a list of of available tables</a></li><li><a href="#getting-information-about-a-table" class="table-of-contents__link toc-highlight">Getting information about a table</a></li><li><a href="#getting-the-data-table" class="table-of-contents__link toc-highlight">Getting the data table</a></li></ul></li><li><a href="#using-functions-to-get-data" class="table-of-contents__link toc-highlight">Using functions to get data</a><ul><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#tutorial-built-with" class="table-of-contents__link toc-highlight">Tutorial built with:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">enlaces rápidos</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://animalhealthmetrics.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sitio principal de GBAD<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://gbadske.org:8051/dash/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Motor de conocimiento y portal de datos<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidad</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gbads-oie.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GBADs-OIE<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Más</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/es/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/GBADsInformatics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 GBADs.</div></div></div></footer></div>
<script src="/es/assets/js/runtime~main.61054fc5.js"></script>
<script src="/es/assets/js/main.dc1cf7b7.js"></script>
</body>
</html>